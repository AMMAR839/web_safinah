<!DOCTYPE html>
<link rel="icon" href="favicon.ico" type="image/x-icon">
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistem Monitoring Misi</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script src="https://cdn.jsdelivr.net/npm/leaflet-rotatedmarker@0.2.0/leaflet.rotatedMarker.js"></script>
</head>
<body>
    <header>
        <h1>Dashboard Monitoring Misi</h1>
    </header>
    <main>
        <section class="data-section">
            <h2>Data Navigasi</h2>
            <div id="error-message" class="error-message"></div>
            <section class="isi_data">
                <div class="kotak">
                    <h3>Timestamp</h3>
                    <p id="timestamp">N/A</p>
                </div>
                <div class="kotak">
                    <h3>Koordinat (DD,DDDD)</h3>
                    <p id="formatted_a">N/A</p>
                </div>
                <div class="kotak">
                    <h3>SOG</h3>
                    <p id="sog_kmh">N/A</p> 
                </div>
                <div class="kotak">
                    <h3>COG</h3>
                    <p id="cog">N/A</p>
                </div>
            </div>
            </section>  
        </section>

        <section class="missionsection">
            <h2>Posisition Log</h2>
            <h4>Akumulasi Pemenuhan Misi</h4>
            <div class="data-mission">
            <div id="mission-persiapan" class="kotak-belum">
                <p>Persiapan</p>
            </div>
            <div id="mission-start" class="kotak-belum">
                <p>Start</p>
            </div>
            <div id="mission-buoys" class="kotak-belum">
                <p>Floating ball set</p>
            </div>
            <div id="mission-imagesurface" class="kotak-belum">
                <p>Mission Surface Imaging</p>
            </div>
            <div id="mission-imageunderwater" class="kotak-belum">
                <p>Mission Underwater Imaging</p>
            </div>
            <div id="mission-finish" class="kotak-belum">
                <p>Finish</p>
            </div>
        </div>              
        </section>

        <section class="mapsection">
            <h2>Lokasi Misi</h2>
            <div id="map" class="data-maps"></div>
            
            <button id="lintasan1" class="tombol-lintasan aktif">Lintasan 1</button>

            <button id="lintasan2" class="tombol-lintasan">Lintasan 2</button>

            <button id="tombol_refresh" class="tombol-refresh">Refresh</button>
        
        </section>
    
    </main>

   
        <section class="images-section">
            <h2>Gambar Misi</h2>
            <div class="images-container">
                <div class="image-slot">
                    <h3>Kamera Atas</h3>
                    <div id="kamera-depan-container" class="image-gallery">
                        <p>Memuat foto...</p>
                    </div>
                </div>
                <div class="image-slot">
                    <h3>Kamera Bawah</h3>
                    <div id="kamera-belakang-container" class="image-gallery">
                        <p>Memuat foto...</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 Sistem Monitoring Misi</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="script.js"></script>
</body>
</html>